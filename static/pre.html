
<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Pre test</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style>
            pre {
                font-size: 14px;
                font-size: 1rem;
                line-height: 19px;
                border: 0;
                background: #f4f7f8;
                color: #4d4e53;
                padding: 15px;

                margin: 0 0 20px 0;
                font-family: Consolas, Monaco, 'Andale Mono', monospace;
            }
        </style>

    </head>
    <body>
        <pre>
// Stereo
var channels = 2;

// Create an empty two second stereo buffer at the
// sample rate of the AudioContext
var frameCount = audioCtx.sampleRate * 2.0;
var myArrayBuffer = audioCtx.createBuffer(channels, frameCount, audioCtx.sampleRate);

button.onclick = function() {
  // Fill the buffer with white noise;
  // just random values between -1.0 and 1.0
  for (var channel = 0; channel < channels; channel++) {
    // This gives us the actual array that contains the data
    var nowBuffering = myArrayBuffer.getChannelData(channel);
    for (var i = 0; i < frameCount; i++) {
      // Math.random() is in [0; 1.0]
      // audio needs to be in [-1.0; 1.0]
      nowBuffering[i] = Math.random() * 2 - 1;
    }
  }

  // Get an AudioBufferSourceNode.
  // This is the AudioNode to use when we want to play an AudioBuffer
  var source = audioCtx.createBufferSource();

  // set the buffer in the AudioBufferSourceNode
  source.buffer = myArrayBuffer;

  // connect the AudioBufferSourceNode to the
  // destination so we can hear the sound
  source.connect(audioCtx.destination);

  // start the source playing
  source.start();

}
</pre>
    </body>
</html>