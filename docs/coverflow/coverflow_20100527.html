<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>

<script src="jquery-1.4.2.min.js" language="javascript"></script>
<script>

function fixbug(thishash){
	$('.coverflow .cover').removeClass('fixit');
	window.location.hash=thishash;
	// the CSS doesn't use the class change, we just need to get safari to reflow the document
	$('.coverflow .cover').addClass('fixit');
}

$(window).load(function(){
	fixbug(window.location.hash);
	$('.scroll a').click(function(event){fixbug(this.hash);return false});
	}
);
</script>

<style>

body{background:#000;color:#fff;text-align:center;background-color:#000;}

#wrapper{position:relative;width:700px;margin:0px auto;text-align:left;}

a img{border:0px;}

.scroll{position:absolute; top:350px; left:130px; z-index:200;width:700px;text-align:center;}
.scroll li{float:left;width:30px;height:20px;overflow:hidden;list-style-type:none;}
.scroll li a{background-color:#999999; padding-left:30px;}
.scroll li:nth-child(even) a{background-color:#CCCCCC;}

.coverflow{
	width:700px;
	height:500px;
	overflow:hidden; 
	-webkit-mask-image: -webkit-gradient(linear, left top, right top, from(rgba(0,0,0,0)), color-stop(0.1, rgba(0,0,0,1)), color-stop(0.9, rgba(0,0,0,1)),to(rgba(0,0,0,0)));
	background-color:#000000;
}
.coverflow .covers{
	width:20000px;
	padding:0px 0px 0px 1000px;
}
.coverflow .cover{
	display:block; 
	float:left;
	width:50px;
	height:500px;
}
.coverflow .cover a{
	position:relative;
	left:190px;
	display:block; 
	height:500px; 
	width:112px; 
	overflow:hidden;
	z-index:10;
	-webkit-perspective: 400;
	padding-top:20px;
	background-color:#000000;
}
	
.coverflow .cover img{
	-webkit-box-reflect:below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.5, transparent), to(rgba(255,255,255,0.2)));
	-webkit-transform: translate3d(-36px, 0px, 0px) rotateY(45deg) scale(0.8);
	-webkit-transition-property: -webkit-transform;
    -webkit-transition-duration: 0s;
    -webkit-transition-timing-function: ease-out;
}

.coverflow .cover:target{
	position:relative;
	width:700px;/* width of wrapper_outter */
	text-align:center;
	z-index:100;
	background-color:transparent;
}
.coverflow .cover:target a{
	position:static; 
	height:500px; 
	width:200px;
	margin:auto;
}
.coverflow .cover:target img{
	-webkit-transform: translate3d(0px, 0px, 0px) rotateY(-0deg) scale(1);
	-webkit-transition-duration: 0.4s;
}

/* this shoudl work without the JS */
.coverflow .cover:target ~ .cover {}
.coverflow .cover:target ~ .cover a {width:50px;left:-188px;}
.coverflow .cover:target ~ .cover img{-webkit-transform: translate3d(-110px, 0px, 0px) rotateY(-45deg) scale(0.8);}

.coverflow .cover:target + .cover {}
.coverflow .cover:target + .cover a {width:112px;left:-250px;}
.coverflow .cover:target + .cover img{-webkit-transform: translate3d(-52px, 0px, 0px) rotateY(-45deg) scale(0.8);}

</style>

</head>

<body>

<div id="wrapper">

<div class="coverflow">

	<ul class="scroll">
		<li><a href="#berries">berries</a></li>
		<li><a href="#cherry">cherry</a></li>
		<li><a href="#cirque">cirque</a></li>
		<li><a href="#wall">wall</a></li>
		<li><a href="#sky">sky</a></li>
		<li><a href="#bird">bird</a></li>
		<li><a href="#cupid">cupid</a></li>
		<li><a href="#tunnel">tunnel</a></li>
		<li><a href="#angel">angel</a></li>
		<li><a href="#fates">fates</a></li>
		<li><a href="#giraffe">giraffe</a></li>
		<li><a href="#fountian">fountian</a></li>
	</ul>
	<ul class="covers">
		<li class="cover" id="berries"><a href="berries.jpg"><img src="berries.jpg" width="200" /></a></li>
		<li class="cover" id="cherry"><a href="cherry.jpg"><img src="cherry.jpg" width="200"  /></a></li>
		<li class="cover" id="cirque"><a href="cirque.jpg"><img src="cirque.jpg" width="200" /></a></li>
		<li class="cover" id="wall"><a href="europe07_0002_Layer 25.jpg"><img src="europe07_0002_Layer 25.jpg" width="200"  /></a></li>
		<li class="cover" id="sky"><a href="europe07_0003_Layer 24.jpg"><img src="europe07_0003_Layer 24.jpg" width="200" /></a></li>
		<li class="cover" id="bird"><a href="europe07_0004_Layer 23.jpg"><img src="europe07_0004_Layer 23.jpg" width="200" /></a></li>
		<li class="cover" id="cupid"><a href="europe07_0005_Layer 22.jpg"><img src="europe07_0005_Layer 22.jpg" width="200" /></a></li>
		<li class="cover" id="tunnel"><a href="europe07_0006_Layer 21.jpg"><img src="europe07_0006_Layer 21.jpg" width="200" /></a></li>
		<li class="cover" id="angel"><a href="europe07_0018_Layer 9.jpg"><img src="europe07_0018_Layer 9.jpg" width="200" /></a></li>
		<li class="cover" id="fates"><a href="europe07_0020_Layer 7.jpg"><img src="europe07_0020_Layer 7.jpg" width="200" /></a></li>
		<li class="cover" id="giraffe"><a href="europe07_0021_Layer 6.jpg"><img src="europe07_0021_Layer 6.jpg" width="200" /></a></li>
		<li class="cover" id="fountian"><a href="fountian.jpg"><img src="fountian.jpg" width="200" /></a></li>
	</ul>
</div>


<div>

<p>This was fun but I've mostly lost interest in it so I thought I'd put it up incase someone else wanted to take it from here. Some stuff that needs to be fixed, maybe with javascript maybe with CSS:
<ul>
	<li>it doesn't work on load if you don't load to a target</li>
	<li>the animation effect 'scrolling' to the right doesn't work</li>
	<li>smooth side scrolling</li>
	<li>an actual slider to go between 'albums'</li>
</ul>

</p>

<p>transition from after to target is wrong</p>

<ul>
	<li>you should go try this first</li>
	<li>resources (links to websites I found useful + links to west civ tools for rotation and gradient</li>
	<li>link to safari bug</li>
	<li>info about backwards compatability</li>
	<li>break it down
		<ul>
			<li>links bar: nth child</li>
			<li>cover flows: parent box/sidescroll, gradient, reflection, 3D transform, left side vs right side & general sibling, transitions</li>
			<li>centering current cover</li>
		</ul>
	</li>
	<li>suggestions for future improvements
		<ul>
			<li>find a way to get it work work without a target to start with</li>
			<li>fix animation when scrolling left</li>
			<li>smooth page scroll</li>
		</ul>
	</li>
</ul>

</div>



</div>

</body>
</html>
